{"version":3,"sources":["scripts/main.js"],"names":["heads","document","querySelectorAll","rows","tbody","body","querySelector","count","countName","countPosition","countAge","countSalary","countOffice","sortTable","type","index","Array","from","sort","a","b","cellA","cells","textContent","cellB","pattern","replace","value","localeCompare","forEach","row","appendChild","createNotification","text","notification","createElement","classList","add","append","setTimeout","removeChild","createRow","values","newRow","nameTd","positionTd","officeTd","ageTd","salaryTd","salary","toString","name","position","office","age","addForm","form","nameLabel","positionLabel","ageLabel","salaryLabel","officeLabel","nameInput","positionInput","ageInput","salaryInput","officeSelect","button","cities","dataset","qa","city","cityOption","addEventListener","e","preventDefault","length","editHandler","input","initialText","cell","newValue","head","target","closest","children","r","remove","focus","key"],"mappings":"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","file":"main.29b075e7.js","sourceRoot":"../src","sourcesContent":["'use strict';\n\nconst heads = document.querySelectorAll('th');\nconst rows = document.querySelectorAll('tbody > tr');\nconst tbody = document.querySelectorAll('tbody');\nconst body = document.querySelector('body');\nlet count = 0;\nlet countName = 0;\nlet countPosition = 0;\nlet countAge = 0;\nlet countSalary = 0;\nlet countOffice = 0;\n\nfunction sortTable(type) {\n  let index;\n\n  switch (type) {\n    case 'Name':\n      index = 0;\n      countName++;\n      countPosition = 0;\n      countAge = 0;\n      countSalary = 0;\n      countOffice = 0;\n      count = countName;\n      break;\n\n    case 'Position':\n      index = 1;\n      countPosition++;\n      countName = 0;\n      countAge = 0;\n      countSalary = 0;\n      countOffice = 0;\n      count = countPosition;\n      break;\n\n    case 'Office':\n      index = 2;\n      countOffice++;\n      countPosition = 0;\n      countName = 0;\n      countSalary = 0;\n      countAge = 0;\n      count = countOffice;\n      break;\n\n    case 'Age':\n      index = 3;\n      countAge++;\n      countPosition = 0;\n      countName = 0;\n      countSalary = 0;\n      countOffice = 0;\n      count = countAge;\n      break;\n\n    case 'Salary':\n      index = 4;\n      countSalary++;\n      countPosition = 0;\n      countAge = 0;\n      countName = 0;\n      countOffice = 0;\n      count = countSalary;\n      break;\n\n    default:\n      index = 0;\n      break;\n  }\n\n  Array.from(rows).sort((a, b) => {\n    let cellA = a.cells[index].textContent;\n    let cellB = b.cells[index].textContent;\n    \n    if (index === 4) {\n      const pattern = /[,$]/ig;\n\n      cellA = cellA.replace(pattern, '');\n      cellB = cellB.replace(pattern, '');\n    }\n\n    let value;\n\n    if (index === 4 || index === 3) {\n      value = count % 2 === 0 ? +cellB - +cellA : +cellA - +cellB;\n    } else {\n      value = count % 2 === 0 ? cellB.localeCompare(cellA) : cellA.localeCompare(cellB);\n    }\n\n    return value;\n  }).forEach(row => tbody[0].appendChild(row));\n}\n\nfunction createNotification(text, type) {\n  const notification = document.createElement('div');\n\n  notification.classList.add('notification');\n  notification.classList.add(type);\n  notification.textContent = text;\n  body.append(notification);\n\n  setTimeout(() => {\n    body.removeChild(notification);\n  }, 2000);\n}\n\nfunction createRow(values) {\n  const newRow = document.createElement('tr');\n  const nameTd = document.createElement('td');\n  const positionTd = document.createElement('td');\n  const officeTd = document.createElement('td');\n  const ageTd = document.createElement('td');\n  const salaryTd = document.createElement('td');\n  const pattern = /(\\d)(?=(\\d{3})+(?!\\d))/g;\n  let salary = values.salary;\n\n  salary = salary.toString().replace(pattern, '$1,');\n\n  nameTd.textContent = values.name;\n  positionTd.textContent = values.position;\n  officeTd.textContent = values.office;\n  ageTd.textContent = values.age;\n  salaryTd.textContent = '$' + salary;\n\n  newRow.append(nameTd);\n  newRow.append(positionTd);\n  newRow.append(officeTd);\n  newRow.append(ageTd);\n  newRow.append(salaryTd);\n  tbody[0].append(newRow);\n\n  createNotification('New employee is successfully added', 'success');\n}\n\nfunction addForm() {\n  const form = document.createElement('form');\n  const nameLabel = document.createElement('label');\n  const positionLabel = document.createElement('label');\n  const ageLabel = document.createElement('label');\n  const salaryLabel = document.createElement('label');\n  const officeLabel = document.createElement('label');\n  const nameInput = document.createElement('input');\n  const positionInput = document.createElement('input');\n  const ageInput = document.createElement('input');\n  const salaryInput = document.createElement('input');\n  const officeSelect = document.createElement('select');\n  const button = document.createElement('button');\n  const cities = [`Tokyo`, `Singapore`, `London`, `New York`, `Edinburgh`, `San Francisco`];\n\n  form.classList.add('new-employee-form');\n\n  nameLabel.textContent = 'Name: ';\n  positionLabel.textContent = 'Position: ';\n  ageLabel.textContent = 'Age: ';\n  salaryLabel.textContent = 'Salary: ';\n  officeLabel.textContent = 'Office: ';\n  button.textContent = 'Save to table';\n\n  nameInput.type = 'text';\n  positionInput.type = 'text';\n  ageInput.type = 'number';\n  salaryInput.type = 'number';\n  button.type = 'submit';\n\n  nameInput.dataset.qa = 'name';\n  positionInput.dataset.qa = 'position';\n  officeSelect.dataset.qa = 'office';\n  ageInput.dataset.qa = 'age';\n  salaryInput.dataset.qa = 'salary';\n\n  cities.forEach((city) => {\n    const cityOption = document.createElement('option');\n    \n    cityOption.textContent = city;\n    officeSelect.append(cityOption);\n  })\n\n  nameLabel.append(nameInput);\n  positionLabel.append(positionInput);\n  ageLabel.append(ageInput);\n  salaryLabel.append(salaryInput);\n  officeLabel.append(officeSelect);\n\n  form.append(nameLabel);\n  form.append(positionLabel);\n  form.append(officeLabel);\n  form.append(ageLabel);\n  form.append(salaryLabel);\n  form.append(button);\n\n  body.append(form);\n\n  button.addEventListener('click', (e) => {\n    e.preventDefault();\n\n    const values = {\n      name: nameInput.value,\n      position: positionInput.value,\n      office: officeSelect.value,\n      age: ageInput.value,\n      salary: salaryInput.value,\n    };\n\n    if (\n      !nameInput.value\n      || !positionInput.value\n      || !officeSelect.value\n      || !ageInput.value\n      || !salaryInput.value\n    ) {\n      createNotification('All the fields are required', 'error');\n\n      return;\n    }\n\n    if (nameInput.value.length < 4) {\n      createNotification('Name can not be less than 4 characters', 'error');\n\n      return;\n    }\n\n    if (+ageInput.value < 18) {\n      createNotification('Age can not be less than 18', 'error');\n\n      return;\n    }\n\n    if (+ageInput.value > 90) {\n      createNotification('Age can not be more over 90', 'error');\n\n      return;\n    }\n\n    createRow(values);\n\n    nameInput.value = '';\n    positionInput.value = '';\n    officeSelect.value = cities[0];\n    ageInput.value = '';\n    salaryInput.value = '';\n  });\n}\n\nfunction editHandler(input, initialText, cell) {\n  let newValue = input.value;\n\n  if (!newValue) {\n    newValue = initialText;\n  }\n\n  cell.textContent = newValue;\n}\n\nheads.forEach(head => {\n  head.addEventListener('click', () => {\n    sortTable(head.textContent);\n  });\n});\n\ntbody[0].addEventListener('click', (e) => {\n  const row = e.target.closest('tr');\n\n  Array.from(tbody[0].children).forEach(r => {\n    r.classList.remove('active');\n  })\n\n  row.classList.add('active');\n});\n\ntbody[0].addEventListener('dblclick', (e) => {\n  const cell = e.target;\n  const initialText = cell.textContent;\n  const input = document.createElement('input');\n\n  input.classList.add('cell-input');\n  input.value = initialText;\n  input.focus();\n  e.target.closest('tr').classList.remove('active');\n  cell.textContent = '';\n  cell.append(input);\n\n  input.addEventListener('blur', () => {\n    editHandler(input, initialText, cell);\n  });\n\n  input.addEventListener('keyup', (e) => {\n    if (e.key === 'Enter') {\n      editHandler(input, initialText, cell);\n    };\n  });\n});\n\naddForm();\n"]}